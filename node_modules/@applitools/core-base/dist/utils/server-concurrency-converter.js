"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleConcurrency = void 0;
const constants_1 = require("./constants");
function handleConcurrency(concurrency) {
    function normalize(value) {
        if (value === 0 || value == null)
            return constants_1.DEFAULT_CONCURRENCY;
        if (value === -1)
            return -1;
        if (typeof value === 'number' && value < 0)
            return -1;
        return value;
    }
    return {
        sessionConcurrency: normalize(concurrency === null || concurrency === void 0 ? void 0 : concurrency.sessionConcurrencyLimit),
        componentConcurrency: normalize(concurrency === null || concurrency === void 0 ? void 0 : concurrency.componentConcurrencyLimit),
    };
}
exports.handleConcurrency = handleConcurrency;
